import{r as o,j as n,c as m}from"./assets/client.js";import"./assets/transform.js";function j(){const r=o.useRef(null),s=o.useRef(null),[i,u]=o.useState([]),[a,c]=o.useState(null);return o.useEffect(()=>{Promise.all([fetch("/blog/analytics/country_uniques.json").then(t=>t.json()),fetch("/blog/analytics/country_population.json").then(t=>t.json())]).then(([t,p])=>{const f=Object.entries(t).map(([e,h])=>{const d=p[e];return{country:e,uniques:Number(h),population:Number(d)}}).filter(e=>Number.isFinite(e.uniques)&&Number.isFinite(e.population)&&e.uniques>0&&e.population>0);u(f)}).catch(t=>{console.error("Failed to load analytics data",t),c("Failed to load analytics data.")})},[]),o.useEffect(()=>{!i.length||!r.current||s.current},[i]),a?n.jsx("div",{style:{padding:"1rem",color:"#666"},children:a}):n.jsx("div",{ref:s,style:{width:"100%",height:"500px",position:"relative"},children:n.jsx("svg",{ref:r,style:{width:"100%",height:"100%"}})})}const l=document.getElementById("population-chart-root");l&&m.createRoot(l).render(n.jsx(j,{}));
