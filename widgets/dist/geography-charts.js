import{r as R,j as g,c as b}from"./assets/client.js";import"./assets/transform.js";var F={},A={},D=34,C=10,U=13;function O(t){return new Function("d","return {"+t.map(function(e,r){return JSON.stringify(e)+": d["+r+'] || ""'}).join(",")+"}")}function M(t,e){var r=O(t);return function(o,i){return e(r(o),i,t)}}function B(t){var e=Object.create(null),r=[];return t.forEach(function(o){for(var i in o)i in e||r.push(e[i]=i)}),r}function f(t,e){var r=t+"",o=r.length;return o<e?new Array(e-o+1).join(0)+r:r}function Z(t){return t<0?"-"+f(-t,6):t>9999?"+"+f(t,6):f(t,4)}function H(t){var e=t.getUTCHours(),r=t.getUTCMinutes(),o=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Z(t.getUTCFullYear())+"-"+f(t.getUTCMonth()+1,2)+"-"+f(t.getUTCDate(),2)+(i?"T"+f(e,2)+":"+f(r,2)+":"+f(o,2)+"."+f(i,3)+"Z":o?"T"+f(e,2)+":"+f(r,2)+":"+f(o,2)+"Z":r||e?"T"+f(e,2)+":"+f(r,2)+"Z":"")}function L(t){var e=new RegExp('["'+t+`
\r]`),r=t.charCodeAt(0);function o(n,a){var u,c,s=i(n,function(d,h){if(u)return u(d,h-1);c=d,u=a?M(d,a):O(d)});return s.columns=c||[],s}function i(n,a){var u=[],c=n.length,s=0,d=0,h,w=c<=0,p=!1;n.charCodeAt(c-1)===C&&--c,n.charCodeAt(c-1)===U&&--c;function x(){if(w)return A;if(p)return p=!1,F;var E,y=s,m;if(n.charCodeAt(y)===D){for(;s++<c&&n.charCodeAt(s)!==D||n.charCodeAt(++s)===D;);return(E=s)>=c?w=!0:(m=n.charCodeAt(s++))===C?p=!0:m===U&&(p=!0,n.charCodeAt(s)===C&&++s),n.slice(y+1,E-1).replace(/""/g,'"')}for(;s<c;){if((m=n.charCodeAt(E=s++))===C)p=!0;else if(m===U)p=!0,n.charCodeAt(s)===C&&++s;else if(m!==r)continue;return n.slice(y,E)}return w=!0,n.slice(y,c)}for(;(h=x())!==A;){for(var j=[];h!==F&&h!==A;)j.push(h),h=x();a&&(j=a(j,d++))==null||u.push(j)}return u}function v(n,a){return n.map(function(u){return a.map(function(c){return T(u[c])}).join(t)})}function l(n,a){return a==null&&(a=B(n)),[a.map(T).join(t)].concat(v(n,a)).join(`
`)}function N(n,a){return a==null&&(a=B(n)),v(n,a).join(`
`)}function S(n){return n.map(P).join(`
`)}function P(n){return n.map(T).join(t)}function T(n){return n==null?"":n instanceof Date?H(n):e.test(n+="")?'"'+n.replace(/"/g,'""')+'"':n}return{parse:o,parseRows:i,format:l,formatBody:N,formatRows:S,formatRow:P,formatValue:T}}var G=L(","),V=G.parse;function Y(t){for(var e in t){var r=t[e].trim(),o,i;if(!r)r=null;else if(r==="true")r=!0;else if(r==="false")r=!1;else if(r==="NaN")r=NaN;else if(!isNaN(o=+r))r=o;else if(i=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))_&&i[4]&&!i[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r);else continue;t[e]=r}return t}const _=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function $(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function k(t,e){return fetch(t,e).then($)}function q(t){return function(e,r,o){return arguments.length===2&&typeof r=="function"&&(o=r,r=void 0),k(e,r).then(function(i){return t(i,o)})}}var z=q(V);function J(){const[t,e]=R.useState(null),[r,o]=R.useState(null);return R.useEffect(()=>{Promise.all([z("/blog/analytics/Geography 2021-08-22_2025-10-17 Polylog/Table data.csv",Y),fetch("/blog/analytics/country_population.json").then(l=>l.json())]).then(([l,N])=>{e({tableRows:l,populationMap:N})}).catch(l=>{console.error("Failed to load geography data",l),o("Failed to load geography data.")})},[]),r?g.jsx("div",{style:{padding:"1rem",color:"#666"},children:r}):g.jsxs("div",{style:{width:"100%"},children:[g.jsx("div",{id:"views-chart",style:{height:"500px",marginBottom:"2rem"}}),g.jsx("div",{id:"uniques-chart",style:{height:"500px",marginBottom:"2rem"}}),g.jsx("div",{id:"rates-chart",style:{height:"500px"}})]})}const I=document.getElementById("geography-charts-root");I&&b.createRoot(I).render(g.jsx(J,{}));
