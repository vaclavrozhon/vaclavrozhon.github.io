<!DOCTYPE html>
<html>
<head>
    <title>Simple Fetch Test</title>
</head>
<body>
    <h1>Simple Fetch Test</h1>
    <button onclick="testFetch()">Test Fetch pagerank_iter_00.json</button>
    <pre id="output"></pre>

    <script>
        async function testFetch() {
            const output = document.getElementById('output');
            output.textContent = 'Fetching...\n';

            try {
                // Test with full URL first
                const url = '/pagerank_iter_00.json';
                output.textContent += `Trying to fetch: ${url}\n`;

                const response = await fetch(url);
                output.textContent += `Response status: ${response.status}\n`;
                output.textContent += `Response ok: ${response.ok}\n`;
                output.textContent += `Content-Type: ${response.headers.get('content-type')}\n\n`;

                const text = await response.text();
                output.textContent += `Response length: ${text.length} bytes\n`;
                output.textContent += `First 500 chars:\n${text.substring(0, 500)}\n\n`;

                // Try to parse as JSON
                const json = JSON.parse(text);
                output.textContent += `JSON parsed successfully!\n`;
                output.textContent += `Has top_results: ${!!json.top_results}\n`;
                output.textContent += `Has bottom_results: ${!!json.bottom_results}\n`;
                output.textContent += `Iteration: ${json.iteration}\n`;

            } catch (error) {
                output.textContent += `\nERROR: ${error.message}\n`;
                output.textContent += `Stack: ${error.stack}\n`;
            }
        }
    </script>
</body>
</html>